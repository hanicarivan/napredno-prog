//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "SettingsUnit.h"
#include "Project1.cpp"
#include <Vcl.Themes.hpp>
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TFSettings *FSettings;
//---------------------------------------------------------------------------
__fastcall TFSettings::TFSettings(TComponent* Owner)
	: TForm(Owner)
{
	CBLanguage->Items->Add("Hrvatski");
	CBLanguage->Items->Add("English");
}
//---------------------------------------------------------------------------
void __fastcall TFSettings::ToggleDarkMode(TObject *Sender)
{
		  // Toggle the state
	isToggled = !isToggled;

	// Update the button caption
	BtnDarkMode->Caption = (isToggled) ? "ON" : "OFF";

	// Perform actions based on the state
	if (isToggled)
	{
		TStyleManager::TrySetStyle("Tablet Dark");
		// Actions for when the button is toggled on
	}
    else
	{
        TStyleManager::TrySetStyle("Emerald Light Slate");
		// Actions for when the button is toggled off
	}
}
//---------------------------------------------------------------------------
void __fastcall TFSettings::ApplySettings(TObject *Sender)
{
	TIniFile* ini;
	ini = new TIniFile(GetCurrentDir() + "\\STARTUP.INI");
	ini->WriteBool("Settings","Toggled", isToggled);
	ini->WriteString("Settings","Language",CBLanguage->Text);
	delete ini;
}
//---------------------------------------------------------------------------
